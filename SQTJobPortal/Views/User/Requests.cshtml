@using SQTJobPortal.Models
@model User

@{ IEnumerable<ViewModel> viewModels = ViewData["TestTable"] as IEnumerable<ViewModel>; }
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Requests</title>
    <meta name="viewport" content="width=device-width" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Tell the browser to be responsive to screen width -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- Favicon icon -->
    <!-- Custom CSS -->
    <link href="~/assets/css/styleee.min.css" rel="stylesheet">
    <link rel="shortcut icon" type="image/x-icon" href="img/favicon.png">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- CSS here -->
    <link rel="stylesheet" href="~/site/assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="~/site/assets/css/owl.carousel.min.css">
    <link rel="stylesheet" href="~/site/assets/css/slicknav.css">
    <link rel="stylesheet" href="~/site/assets/css/price_rangs.css">
    <link rel="stylesheet" href="~/site/assets/css/animate.min.css">
    <link rel="stylesheet" href="~/site/assets/css/magnific-popup.css">
    <link rel="stylesheet" href="~/site/assets/css/fontawesome-all.min.css">
    <link rel="stylesheet" href="~/site/assets/css/themify-icons.css">
    <link rel="stylesheet" href="~/site/assets/css/themify-icons.css">
    <link rel="stylesheet" href="~/site/assets/css/slick.css">
    <link rel="stylesheet" href="~/site/assets/css/nice-select.css">
    <link rel="stylesheet" href="~/site/assets/css/style.css">
    <link rel="stylesheet" href="~/site/assets/css/responsive.css">
    <link href="~/Content/requests.css" rel="stylesheet" />
    <link href="~/Content/request2.css" rel="stylesheet" />
    <script src="~/Content/js/request1.js"></script>
    <script src="~/Content/js/request2.js"></script>
    <script src="~/Content/js/request3.js"></script>

</head>


<body>
    <header>
        <!-- Header Start -->
        <div class="header-area header-transparrent">
            <div class="headder-top header-sticky">
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col-lg-3 col-md-2">
                            <!-- Logo -->
                            <div class="logo">
                                <a href="index.html"><img src="~/site/assets/img/logo/logo.png" alt=""></a>
                            </div>
                        </div>

                        <div class="col-lg-9 col-md-9">
                            <div class="menu-wrapper">
                                <!-- Main-menu -->
                                <div class="main-menu">
                                    <nav class="d-none d-lg-block">
                                        <ul id="navigation">

                                            @if (User.Identity.IsAuthenticated)

                                            {
                                            <li class="nav-item">
                                                <a href="/Account/Index/@Model.SeekerId">Home Page</a>
                                            </li>
                                                <li class="nav-item">
                                                    <a href="/User/Requests/@Model.SeekerId">Request List</a>
                                                    @*@Html.ActionLink("Request List", "RequestList", "User", new { @class = "nav-link" , id = Model.User.SeekerId })*@
                                                </li>
                                                <li class="nav-item">
                                                    @Html.ActionLink("Job Advertisement", "JobAdvertisement", "User", new { @class = "nav-link" })
                                                </li>
                                                <li class="nav-item">
                                                    @Html.ActionLink("Contact", "Contact", "Home", new { @class = "nav-link" })
                                                </li>
                                                <li class="nav-item">
                                                    <a href="/User/CompanyProfile/@Model.SeekerId">Profile</a>
                                                </li>
                                                <li class="nav-item">
                                                    <a href="@Url.Action("SignOut","Account")">Sign Out</a>
                                                </li>
                                                <li class="nav-item">

                                                    <h1 style="font-size:16px; padding-left:60px; text-align:left"> Welcome  @(User.Identity.IsAuthenticated ? HttpContext.Current.User.Identity.Name:"Guest") ! </h1>
                                                </li>

                                            }
                                            else
                                            {
                                                <li class="nav-item">
                                                    @Html.ActionLink("Home Page", "Index", "Home", new { @class = "nav-link" })
                                                </li>
                                                <li class="nav-item">
                                                    @Html.ActionLink("Jobs", "JobList", "Home", new { @class = "nav-link" })
                                                </li>
                                                <li class="nav-item">
                                                    @Html.ActionLink("Find Your Dream Job", "", "Account", new { @class = "nav-link" })
                                                </li>
                                                <li class="nav-item">
                                                    @Html.ActionLink("Contact", "Contact", "Home", new { @class = "nav-link" })
                                                </li>


                                                <li class="nav-item">
                                                    @Html.ActionLink("Login", "Login", "Account", new { @class = "nav-link" })
                                                </li>
                                            }


                                        </ul>
                                    </nav>
                                </div>
                                <!-- Header-btn -->

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Header End -->
    </header>

    <main>

        <!-- Hero Area Start-->
        <div class="slider-area ">
            <div class="single-slider section-overly slider-height2 d-flex align-items-center" data-background="~/site/assets/img/hero/about.jpg">
                <div class="container">
                    <div class="row">
                        <div class="col-xl-12">
                            <div class="hero-cap text-center">
                                <h2>See Requests</h2>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Hero Area End -->
        <!-- Job List Area Start -->
        <table id="example" class="table table-striped table-bordered" style="width:100%">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Requester</th>
                    <th>Profession</th>
                    <th>Education</th>
                    <th>Email </th>
                    <th>Phone</th>

                    <th>Cv</th>
                    <th>Motivation Letter</th>
                    <th>Apply Date</th>
                    <th>Status</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>

                @foreach (ViewModel viewModel in viewModels)
                {

                    //if (viewModel.job.CompanyId == CompanyHelper.id
                    if (viewModel.request.ApplyDate >= DateTime.Now.AddDays(-100) && Model.SeekerId == viewModel.companies.SeekerId)
                    {
                        <tr>

                            <td><a href="#"><img src="~/Content/anonim-foto.png" style="max-width:50px; max-height:50px;" class="avatar" alt="Avatar"></a></td>
                            <td> @viewModel.user.Name</td>
                            <td> @viewModel.request.Profession </td>
                            <td> @viewModel.request.Education </td>
                            <td> @viewModel.request.Email  </td>
                            <td> @viewModel.request.Phone</td>
                            <td><a href="#">> @viewModel.request.CvName </a></td>
                            <td>
                                <div class="clicker" tabindex="1">Click for Motivation Letter</div>
                                <div class="hiddendiv">@viewModel.request.MotivationLetter</div>
                            </td>
                            <td> @viewModel.request.ApplyDate</td>
                            @if (Convert.ToInt32(viewModel.request.IsActive) == 0)
                            {
                                <td><span class="status text-danger">&bull;</span>@viewModel.request.IsActive Cancelled</td>
                             }
                            else
                            {
                                <td><span class="status text-success">&bull;</span>@viewModel.request.IsActive Accepted</td>
                             }

                            <td><a href="/Company/RequestProfile" class="view" title="View Details" data-toggle="tooltip"><i class="material-icons">&#xE5C8;</i></a></td>

                        </tr>
                    }
                }


            </tbody>
            <tfoot>
                <tr>
                    <th>#</th>
                    <th>Requester</th>
                    <th>Profession</th>
                    <th>Education</th>
                    <th>Email </th>
                    <th>Phone</th>

                    <th>Cv</th>
                    <th>Motivation Letter</th>
                    <th>Apply Date</th>
                    <th>Status</th>
                    <th>Action</th>
                </tr>
            </tfoot>
        </table>

        <script>
            $(document).ready(function () {
                $('#example').DataTable();
            });
        </script>


    </main>
    <footer>
        <!-- Footer Start-->
        <div class="footer-area footer-bg footer-padding">
            <div class="container">
                <div class="row d-flex justify-content-between">
                    <div class="col-xl-3 col-lg-3 col-md-4 col-sm-6">
                        <div class="single-footer-caption mb-50">
                            <div class="single-footer-caption mb-30">
                                <div class="footer-tittle">
                                    <h4>About Us</h4>
                                    <div class="footer-pera">
                                        <p>We are a structure established in 2021 with the aim of creating a site that values talents and tries to provide job opportunities accordingly.</p>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="col-xl-3 col-lg-3 col-md-4 col-sm-5">
                        <div class="single-footer-caption mb-50">
                            <div class="footer-tittle">
                                <h4>Contact Info</h4>
                                <ul>
                                    <li>
                                        <p>

                                            Address : Cd:11 Kadıköy
                                            İstanbul, Turkey
                                        </p>
                                    </li>
                                    <li><a href="#">Phone : +216 111 11 11</a></li>
                                    <li><a href="#">Email : support@dreamjob.com</a></li>
                                </ul>
                            </div>

                        </div>
                    </div>
                    <div class="col-xl-3 col-lg-3 col-md-4 col-sm-5">
                        <div class="single-footer-caption mb-50">
                            <div class="footer-tittle">
                                <h4>Important Link</h4>
                                <ul>
                                    <li><a href="/Home/Contact">Find your Dream Job</a></li>

                                    <li><a href="/Home/Contact">Contact Us</a></li>

                                </ul>
                            </div>
                        </div>
                    </div>

                </div>
                <!--  -->

            </div>
        </div>
        <!-- footer-bottom area -->
        <div class="footer-bottom-area footer-bg">
            <div class="container">
                <div class="footer-border">
                    <div class="row d-flex justify-content-between align-items-center">
                        <div class="col-xl-10 col-lg-10 ">
                            <div class="footer-copy-right">
                                <p>
                                    <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                                    Copyright &copy;
                                    <script>document.write(new Date().getFullYear());</script> <a>All rights reserved ....</a>
                                    <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                                </p>
                            </div>
                        </div>
                        <div class="col-xl-2 col-lg-2">
                            <div class="footer-social f-right">
                                <a href="#"><i class="fab fa-facebook-f"></i></a>
                                <a href="#"><i class="fab fa-twitter"></i></a>
                                <a href="#"><i class="fas fa-globe"></i></a>
                                <a href="#"><i class="fab fa-behance"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Footer End-->
    </footer>

    <!-- JS here -->
    <!-- All JS Custom Plugins Link Here here -->
    <script src="./site/assets/js/vendor/modernizr-3.5.0.min.js"></script>
    <!-- Jquery, Popper, Bootstrap -->
    <script src="./site/assets/js/vendor/jquery-1.12.4.min.js"></script>
    <script src="./site/assets/js/popper.min.js"></script>
    <script src="./site/assets/js/bootstrap.min.js"></script>


    <!-- Jquery Slick , Owl-Carousel Plugins -->
    <script src="./site/assets/js/owl.carousel.min.js"></script>
    <script src="./site/assets/js/slick.min.js"></script>
    <script src="./site/assets/js/price_rangs.js"></script>

    <!-- One Page, Animated-HeadLin -->
    <script src="./site/assets/js/wow.min.js"></script>
    <script src="./site/assets/js/animated.headline.js"></script>
    <script src="./site/assets/js/jquery.magnific-popup.js"></script>

    <!-- Scrollup, nice-select, sticky -->
    <script src="./site/assets/js/jquery.scrollUp.min.js"></script>
    <script src="./site/assets/js/jquery.nice-select.min.js"></script>
    <script src="./site/assets/js/jquery.sticky.js"></script>

    <!-- contact js -->
    <script src="./site/assets/js/contact.js"></script>
    <script src="./site/assets/js/jquery.form.js"></script>
    <script src="./site/assets/js/jquery.validate.min.js"></script>
    <script src="./site/assets/js/mail-script.js"></script>
    <script src="./site/assets/js/jquery.ajaxchimp.min.js"></script>

    <!-- Jquery Plugins, main Jquery -->
    <script src="./site/assets/js/plugins.js"></script>
    <script src="./site/assets/js/main.js"></script>

    <script>
        var $table = $('#table');
        $(function () {
            $('#toolbar').find('select').change(function () {
                $table.bootstrapTable('refreshOptions', {
                    exportDataType: $(this).val()
                });
            });
        })

        var trBoldBlue = $("table");

        $(trBoldBlue).on("click", "tr", function () {
            $(this).toggleClass("bold-blue");
        });
    </script>
</body>

</html>

